# .tmux.conf {{{
# vim: set tabstop=2 shiftwidth=2 foldmethod=marker:
# }}}

# General {{{

  # Shell {{{
    set -g default-shell $SHELL
    set -g default-terminal "screen-256color"
  # }}}

  # Prefix is Ctrl-a {{{
    set -g prefix C-a
    bind C-a send-prefix
    unbind C-b
  # }}}

  # Misc {{{
    setw -g utf8 on
    set -sg escape-time 1
    set -g base-index 1
    setw -g pane-base-index 1
    set -g history-limit 10000
    set -g mode-keys vi
    setw -g monitor-activity on
    set -g visual-activity off
    bind r source-file ~/.tmux.conf
    set -g status-interval 15
    bind C-l send-keys 'C-l'
  # }}}

  # Mouse {{{
    set -g mode-mouse off
    set -g mouse-select-pane off
    set -g mouse-resize-pane off
    set -g mouse-select-window off
  # }}}

  # Paste {{{
    # y and p as in vim
    bind -n M-v copy-mode
    bind Escape copy-mode
    unbind p
    bind p paste-buffer
    bind -t vi-copy 'v' begin-selection
    bind -t vi-copy 'y' copy-selection
    bind -t vi-copy 'Space' halfpage-down
    bind -t vi-copy 'Bspace' halfpage-up
    # extra commands for interacting with the ICCCM clipboard
    bind C-c run "tmux save-buffer - | xclip -i -sel clipboard"
    bind C-v run "tmux set-buffer \"$(xclip -o -sel clipboard)\"; tmux paste-buffer"
  # }}}

# }}}

# Windows {{{

  # Moving {{{
    bind -n M-C-h select-window -t :-
    bind -n M-C-l select-window -t :+
  # }}}

  # Split {{{
    bind | split-window -h
    bind - split-window -v
    unbind '"'
    unbind %
  # }}}

  # Switch {{{
    bind -n M-w select-window -t :+
  #}}}

# }}}

# Panes {{{

  # Moving {{{
    bind h select-pane -L
    bind j select-pane -D
    bind k select-pane -U
    bind l select-pane -R
    bind -n M-z resize-pane -Z
  # }}}

  # Resize {{{
    bind -r H resize-pane -L 5
    bind -r J resize-pane -D 5
    bind -r K resize-pane -U 5
    bind -r L resize-pane -R 5
  # }}}

  # Switch {{{
    bind -n M-p select-pane -t :.+
  # }}}

# }}}

source-file ~/.tmux.monokai.conf

# TPM {{{
  set -g @tpm_plugins "              \
    tmux-plugins/tpm                 \
    tmux-plugins/tmux-sensible       \
    tmux-plugins/tmux-copycat        \
    tmux-plugins/tmux-yank           \
    tmux-plugins/tmux-open           \
    tmux-plugins/tmux-battery        \
  "
  run-shell ~/.tmux/plugins/tpm/tpm
# }}}

run-shell ~/.tmux/plugins/tmux-sensible/sensible.tmux
run-shell ~/.tmux/plugins/tmux-copycat/copycat.tmux
run-shell ~/.tmux/plugins/tmux-yank/yank.tmux
run-shell ~/.tmux/plugins/tmux-open/open.tmux
run-shell ~/.tmux/plugins/tmux-battery/battery.tmux
